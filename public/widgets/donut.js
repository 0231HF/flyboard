// Intialise donuts/* * Widget: Donut * 	type: 3 */$(function(){    $('.widget[data-type=3]').each(function(){        var $container = $(this).find('.cf-svp');        var config = $(this).data('config');        cf_rSVPs[$container.prop('id')] = {};        rSVP($container);        function reload(){            var $container = $(this).find('.cf-svp');            $.get(                '/api/data_sources/' + config.dataSourceId + '/records?limit=1'            ).then(function(records){                var element = $container.prop('id');                config.value = records[0].value;                // Call EasyPieChart update function                cf_rSVPs[element].chart.update(config.value);                // Update the data-percent so it redraws on resize properly                $container.find('.chart').data('percent', config.value);                // Update the UI metric                $('.metric', $('#'+element)).html('' + config.value);            });        }        setInterval(reload.bind(this), config.reloadInterval);        reload.apply(this);    });});