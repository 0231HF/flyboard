<tabset justified="true">    <tab>        <tab-heading>修改数据源</tab-heading>        <div ng-controller="dataSourceInfoCtrl" class="css-form">            <div id="data-source-info">                <form novalidate name="dataSourceForm" class="form-horizontal" role="form" ng-submit="submit()">                    <div class="form-group">                        <label for="editName" class="col-sm-2 control-label">名称</label>                        <div class="col-sm-10">                            <input type="text" class="form-control" id="editName" ng-model="dataSource.name" required/>                        </div>                    </div>                    <div class="form-group">                        <label for="editProjectId" class="col-sm-2 control-label">所属项目</label>                        <div class="col-sm-10">                            <select ng-model="dataSource.project_id"                                    ng-options="item.id as item.name for item in projects" class="form-control"                                    id="editProjectId">                            </select>                        </div>                    </div>                    <div class="form-group">                        <label for="editKey" class="col-sm-2 control-label">Key</label>                        <div class="col-sm-10">                            <input type="text" class="form-control" id="editKey" ng-model="dataSource.key" required/>                        </div>                    </div>                    <div class="form-group" ng-if="dataSource.config.dimensions && dataSource.config.dimensions.length">                        <label for="showDimensions" class="col-sm-2 control-label">维度</label>                        <div class="col-sm-10" id="showDimensions">                            <h4>                                <span class="label label-primary dimension-info"                                      ng-repeat="dimension in dataSource.config.dimensions">                                    key: "{{dimension.key}}" | 名称: "{{dimension.name}}"                                </span>                            </h4>                        </div>                    </div>                    <div class="form-group">                        <div class="col-sm-2"></div>                        <div class="col-sm-10">                            <label class="checkbox">                                <input type="checkbox"                                       ng-model="dataSource.increment"                                       ng-checked="dataSource.increment">                                数据独立 (数据之间不出现重复统计的情况）                            </label>                        </div>                    </div>                    <div class="form-group">                        <div class="col-sm-offset-2 col-sm-10">                            <button type="submit" class="btn btn-default" ng-disabled="dataSourceForm.$invalid">确认                            </button>                        </div>                    </div>                </form>            </div>        </div>    </tab>    <tab>        <tab-heading>数据Push测试</tab-heading>        <div ng-controller="dataSourceMethodCtrl">            <div id="data-source-method">                <form class="form-horizontal" role="form">                    <div class="form-group">                        <label class="col-sm-2 control-label">API</label>                        <div class="col-sm-10">                            <p class="form-control-static token">                                /api/projects/{{project.uuid}}/data_sources/{{dataSource.key}}?token={{token}}</p>                        </div>                    </div>                    <div class="form-group">                        <label class="col-sm-2 control-label">JSON示例</label>                        <div class="col-sm-10">                            <pre>{{showJsonExample}}</pre>                        </div>                    </div>                </form>            </div>            <div id="data-source-test">                <form class="form-horizontal css-form" role="form" ng-submit="submit()">                    <div class="form-group">                        <label class="col-sm-2 control-label">测试JSON</label>                        <div class="col-sm-10">                            <textarea ng-disabled="!project" type="text" class="form-control" rows="3" name="recordData"                                      ng-model="data" required></textarea>                        </div>                    </div>                    <div class="form-group">                        <div class="col-sm-offset-2 col-sm-10">                            <button type="submit" class="btn btn-default" ng-disabled="!project">提交</button>                        </div>                    </div>                </form>            </div>        </div>    </tab>    <tab>        <tab-heading>数据记录</tab-heading>        <div ng-controller="dataSourceRecordListCtrl">            <div id="data-source-records">                <table class="table table-hover">                    <thead>                    <tr>                        <th>日期</th>                        <th ng-repeat="dimension in dataSource.config.dimensions"                            ng-if="dataSource.config.dimensions">                            ［{{dimension.name}}］                        </th>                        <th>数值</th>                    </tr>                    </thead>                    <tbody ng-repeat="record in records"                           ng-init="dataSource = getDataSource(record.data_source_id)">                    <tr>                        <td>{{formatTime(record)}}</td>                        <td ng-repeat="dimension in dataSource.config.dimensions"                            ng-if="dataSource.config.dimensions">                            {{record[dimension.key]}}                        </td>                        <td>{{record.value || 0}}</td>                        <td><a href="" ng-click="delete(record)">删除</a></td>                    </tr>                    </tbody>                </table>                <button class="btn btn-default clear-record-btn"                        ng-if="records.length > 0"                        ng-click="clearRecord(dataSource.id)">                    删除所有记录                </button>            </div>        </div>    </tab></tabset>